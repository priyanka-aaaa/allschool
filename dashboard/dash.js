function getRadio(a){1==a.checked?document.getElementById("checkDetail").style.display="block":document.getElementById("checkDetail").style.display="none"}function mysrn(){var a=document.getElementById("schoolId").value,e=document.getElementById("sr_no").value,t=document.getElementById("district"),s=document.getElementById("admissionDate"),n=document.getElementById("studentName"),o=document.getElementById("dob"),l=document.getElementById("admissionNo"),d=document.getElementById("father_name"),c=document.getElementById("mother_name");$.ajax({type:"POST",url:"schoolleaving",data:{sr_no:e,schoolid:a},success:function(a){var e=a.split("&&");t.value=e[0],s.value=e[1],n.value=e[2],o.value=e[3],l.value=e[4],d.value=e[5],c.value=e[6]}})}function functionToExecute(){if(document.getElementById("relation").value,document.getElementById("feeTaken").value,document.getElementById("convenience_fee_month").value,0==document.getElementById("receipt_form").reportValidity())return;document.forms.receipt_form["payment_mode[]"].value,document.forms.receipt_form["payment_mode_method[]"].value;const a=document.querySelector("#offline_payment").checked,e=document.querySelector("#online_payment").checked;if(0==a&&0==e)return void alert("Please choose payment mode");const t=document.querySelector("#googlepay").checked,s=document.querySelector("#phonepe").checked,n=document.querySelector("#qrcode").checked,o=document.querySelector("#cash").checked,l=document.querySelector("#cheque").checked;if(document.forms.receipt_form["payment_mode[]"].value,0!=t||0!=s||0!=n||0!=o||0!=l){if(1==document.getElementById("cheque").checked){var d=document.getElementById("checkNumber").value,c=document.getElementById("checkDate").value;if(""==d||""==c)return void alert("Please enter check detail")}else d="",c="";var r=document.getElementById("online_payment_amount").value,i=document.getElementById("offline_payment_amount").value,u=document.getElementById("total_paying_amount").value;if(isNaN(r)&&(r=0),isNaN(i)&&(i=0),0!=r&&0!=i)var m=parseInt(r)+parseInt(i);else m=0==r&&0!=i?parseInt(i):0!=r&&0==i?parseInt(r):0;var p=Math.floor(m);0==r&&0==i?alert("Enter your offline or online payment amount"):p!=u?alert("payment is not match"):swal({title:"Are you sure?",text:"Are you sure? if you want to make edit then go back",icon:"warning",buttons:["Go Back","Confirm Payment"]}).then((a=>{a&&$.ajax({type:"POST",url:"addpayment",data:$("#receipt_form").serialize(),success:function(a){window.location.href="seeReceipt?id="+a}})}))}else alert("Please choose type of payment mode")}function myConvenienceCharge(){var a=document.getElementById("student_convenience_charge"),e=document.getElementById("convenienceCharge");if(1==a.checked)e.style.display="block";else{e.style.display="none",document.getElementById("convenience_charge_amount").value="";var t=document.getElementById("exam_fee_amount").value,s=document.getElementById("paying_decided_amount").value;valueSelected=0,(isNaN(t)||""==t)&&(t=0),(isNaN(s)||""==s)&&(s=0);var n=parseFloat(t)+parseFloat(s)+parseFloat(valueSelected);document.getElementById("total_paying_amount").value=n}}function myExamFee(){var a=document.getElementById("student_exam_fee"),e=document.getElementById("examfee");if(1==a.checked)e.style.display="block";else{document.getElementById("exam_fee_amount").value="";var t=document.getElementById("convenience_charge_amount").value,s=document.getElementById("paying_decided_amount").value;e.style.display="none";var n="";(isNaN(n)||""==n)&&(n=0),(isNaN(t)||""==t)&&(t=0),(isNaN(s)||""==s)&&(s=0);var o=parseFloat(t)+parseFloat(s)+parseFloat(n);document.getElementById("total_paying_amount").value=o}}function myOnlinePayment(){var a=document.getElementById("online_payment"),e=document.getElementById("student_online_amount");1==a.checked?e.style.display="block":e.style.display="none"}function myOfflinePayment(){var a=document.getElementById("offline_payment"),e=document.getElementById("student_offline_amount");1==a.checked?e.style.display="block":e.style.display="none"}function checkAdmission(){return confirm("Are you sure to delete?")}function studentBirthDate(){var a=document.getElementById("dateOfBirth").value;const e=new Date(a);e.getFullYear(),e.getMonth(),e.getDate(),document.getElementById("ageDetail").style.display="block";var t=function(a){var t,s,n,o,l=new Date,d=l.getYear(),c=l.getMonth(),r=l.getDate(),i=e.getYear(),u=e.getMonth(),m=e.getDate();if(yearAge=d-i,c>=u)var p=c-u;else yearAge--,p=12+c-u;if(r>=m)var h=r-m;else h=31+r-m,--p<0&&(p=11,yearAge--);return s=(t={years:yearAge,months:p,days:h}).years>1?" years":" year",n=t.months>1?" months":" month",o=t.days>1?" days":" day",t.years>0&&t.months>0&&t.days>0?t.years+s+", "+t.months+n+", and "+t.days+o+" old":0==t.years&&0==t.months&&t.days>0?"Only "+t.days+o+" old!":t.years>0&&0==t.months&&0==t.days?t.years+s+" old Happy Birthday!!":t.years>0&&t.months>0&&0==t.days?t.years+s+" and "+t.months+n+" old":0==t.years&&t.months>0&&t.days>0?t.months+n+" and "+t.days+o+" old":t.years>0&&0==t.months&&t.days>0?t.years+s+" and "+t.days+o+" old":0==t.years&&t.months>0&&0==t.days?t.months+n+" old":"Oops! Could not calculate age!"}(),s=function(a){var t,s,n,o,l=(new Date).getYear(),d=e.getYear(),c=e.getMonth(),r=e.getDate();if(yearAge=l-d,3>=c)var i=3-c;else yearAge--,i=15-c;if(1>=r)var u=1-r;else u=32-r,--i<0&&(i=11,yearAge--);return s=(t={years:yearAge,months:i,days:u}).years>1?" years":" year",n=t.months>1?" months":" month",o=t.days>1?" days":" day",t.years>0&&t.months>0&&t.days>0?t.years+s+", "+t.months+n+", and "+t.days+o+" old":0==t.years&&0==t.months&&t.days>0?"Only "+t.days+o+" old!":t.years>0&&0==t.months&&0==t.days?t.years+s+" old Happy Birthday!!":t.years>0&&t.months>0&&0==t.days?t.years+s+" and "+t.months+n+" old":0==t.years&&t.months>0&&t.days>0?t.months+n+" and "+t.days+o+" old":t.years>0&&0==t.months&&t.days>0?t.years+s+" and "+t.days+o+" old":0==t.years&&t.months>0&&0==t.days?t.months+n+" old":"Oops! Could not calculate age!"}();document.getElementById("stuCurrentAge").innerHTML=t,document.getElementById("stuAgeTillApril").innerHTML=s,document.getElementById("currentAge").value=t,document.getElementById("ageTillApril").value=s}$(".studentAdmission").submit((function(){return!!confirm("Are you sure to add this admission!")})),"yes"==confirm&&(window.location.href="#"),$(document).ready((function(){$(".student_admission_class").on("change",(function(a){var e=$(".current_school_id").html(),t=$("#current_session").val();$("option:selected",this);var s=this.value;$.ajax({type:"POST",url:"sectionlist",data:{school_id:e,class:s,session:t},success:function(a){var e=a.split("&&");"no"==e[1]?($("#annual_Fee").val(e[0]),"no"==e[1]&&$("#roll_no").val(e[2])):($("#annual_Fee").val(e[0]),$("#section_dropdown").html(e[1]))}})})),$(".student_admission_section").on("change",(function(a){var e=$(".current_school_id").html(),t=$("#current_session").val();$("option:selected",this);var s=this.value,n=$(".student_admission_class option:selected").val();$.ajax({type:"POST",url:"studentroll_no",data:{class:n,section:s,school_id:e,session:t},success:function(a){console.log(a),"session is full"==a?alert("This Section is full."):$("#roll_no").val(a)}})})),$("#studentList").DataTable({pageLength:25,dom:"Bfrtip",buttons:[{extend:"pdfHtml5",exportOptions:{columns:[0,1,2,3,4,5,6,7,9,10,11]}},{extend:"csvHtml5",exportOptions:{columns:[0,1,2,3,4,5,6,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27]}}]}),$("body").on("click",".listStudentDelete",(function(){$(".current_school_id").html(),$("#current_session").val();var a=$(this).attr("attr-value");swal({title:"Are you sure?",text:"Are you sure to delete this student",icon:"warning",buttons:["No","Yes"]}).then((e=>{e&&$.ajax({type:"POST",url:"studentDelete",data:{id:a},success:function(a){swal("Success!","You deleted successfully!","success").then((a=>{window.location.reload()}))}})}))})),$("body").on("click",".promotNextClass",(function(){$(".current_school_id").html(),$("#current_session").val();var a=new Array;if($("input:checked").each((function(){a.push($(this).val())})),0!=a.length)return swal({title:"Are you sure?",text:"Are you sure to Promote",icon:"warning",buttons:["No","Yes"]}).then((e=>{e&&$.ajax({type:"POST",url:"studentPromotion",dataType:"html",data:{studentValue:a},success:function(a){var e=a.split("&&");"noclass"==e[0]?swal("Oops!","Please Add class "+e[1]+" in next session!","error").then((a=>{})):swal("Success!","You Promoted "+e[1]+" student successfully!","success").then((a=>{}))}})})),!1;swal("Oops!","Please choose student!","error").then((a=>{}))})),$("#allStudentCheck").change((function(){this.checked?$(".vehicle1").prop("checked",!0):$(".vehicle1").prop("checked",!1)})),$(".current_school_id").html(),$("#paying_decided_amount").on("keyup",(function(a){$(".current_school_id").html(),$("#current_session").val();for(var e=document.querySelectorAll(".feemonth"),t=0;t<e.length;t++)e[t].checked=!1,e[t].classList.remove("newmonth");var s=this.value;if(""==s){var n=$("#decided_fee").val(),o=$("#balance_due").val(),l=$("#paid_amount_last").val(),d=parseFloat(n)/parseFloat(12),c=parseFloat(l)/parseFloat(d),r=Math.floor(c);for(t=0;t<r;t++)e[t].checked=!0}else{o=$("#balance_due").val(),n=$("#decided_fee").val();var i=$("#monthNo_last").val(),u=(l=$("#paid_amount_last").val(),parseFloat(o)-parseFloat(s));$("#balance_amount").val(u),parseFloat(n),parseFloat(o);var m=parseFloat(l)+parseFloat(s),p=(d=parseFloat(n)/parseFloat(12),Math.floor(d)),h=parseFloat(m)/parseFloat(p);if(0!=(r=Math.floor(h))){var _=[];for(t=0;t<r;t++)t>=i&&(e[t].classList.add("newmonth"),_.push(e[t].value)),e[t].checked=!0;$("#fee_month").val(_)}var y=$("#convenience_charge_amount").val(),v=$("#exam_fee_amount").val();(isNaN(s)||""==s)&&(s=0),(isNaN(y)||""==y)&&(y=0),(isNaN(v)||""==v)&&(v=0);var f=parseFloat(y)+parseFloat(v)+parseFloat(s);$("#total_paying_amount").val(f)}})),$("#exam_fee_amount").on("keyup",(function(a){$(".current_school_id").html(),$("#current_session").val();var e=this.value,t=$("#convenience_charge_amount").val(),s=$("#paying_decided_amount").val();(isNaN(e)||""==e)&&(e=0),(isNaN(t)||""==t)&&(t=0),(isNaN(s)||""==s)&&(s=0);var n=parseFloat(t)+parseFloat(s)+parseFloat(e);$("#total_paying_amount").val(n)})),$("#convenience_charge_amount").on("keyup",(function(a){$(".current_school_id").html(),$("#current_session").val();var e=this.value,t=$("#exam_fee_amount").val(),s=$("#paying_decided_amount").val();(isNaN(e)||""==e)&&(e=0),(isNaN(t)||""==t)&&(t=0),(isNaN(s)||""==s)&&(s=0);var n=parseFloat(t)+parseFloat(s)+parseFloat(e);$("#total_paying_amount").val(n)})),$("#studentReceiptAllTable").DataTable({dom:"Bfrtip",buttons:["csvHtml5","pdfHtml5"]}),$("#paymentreceiptTable").DataTable({destroy:!0,pageLength:10,processing:!0,serverSide:!0,fnRowCallback:function(a,e,t){var s=$(this).DataTable().page.info();return $("td:nth-child(1)",a).html(s.start+t+1),a},order:[[0,"desc"]],columnDefs:[{type:"natural",targets:0}],serverMethod:"post",ajax:{url:"receiptAll",data:{school_id:$(".current_school_id").html(),session:$("#current_session").val()}},columns:[{data:"id"},{data:"datetime"},{data:"name"},{data:"class_name"},{data:"section"},{data:"total_paying_amount"},{data:"balance_amount"},{data:"remark"},{data:"view"}]}),$(".admission_class").on("change",(function(a){var e=$(".current_school_id").html(),t=$("#current_session").val(),s=($("option:selected",this),this.value);$.ajax({type:"POST",url:"sectionlist",data:{class:s,school_id:e,session:t},success:function(a){var e=a.split("&&");$("#section_dropdown").html(e[1])}}),$("#paymentreceiptTable").DataTable({destroy:!0,processing:!0,serverSide:!0,fnRowCallback:function(a,e,t){var s=$(this).DataTable().page.info();return $("td:nth-child(1)",a).html(s.start+t+1),a},order:[[0,"desc"]],columnDefs:[{type:"natural",targets:0}],serverMethod:"post",ajax:{url:"receiptClass",data:{class:s,school_id:e,session:t}},columns:[{data:"id"},{data:"datetime"},{data:"name"},{data:"class_name"},{data:"section"},{data:"total_paying_amount"},{data:"balance_amount"},{data:"remark"},{data:"view"}]})})),$("#section_dropdown").on("change",(function(a){var e=$(".current_school_id").html(),t=$("#current_session").val();$("#roll_no").val(""),$("#student_name").val(""),$("#father_name").val(""),$("#phone_no").val(""),$("#decided_fee").val(""),$("#decided_fee_last").val(""),$("#student_id").val(""),$("#balance_due").val(""),$("#balance_due_last").val(""),$("#paid_amount_last").val("");var s=$("#section_dropdown").val(),n=$(".admission_class").val();""!=student_class&&$("#paymentreceiptTable").DataTable({destroy:!0,processing:!0,serverSide:!0,fnRowCallback:function(a,e,t){var s=$(this).DataTable().page.info();return $("td:nth-child(1)",a).html(s.start+t+1),a},order:[[0,"desc"]],columnDefs:[{type:"natural",targets:0}],serverMethod:"post",ajax:{url:"receiptSection",data:{information:n,section:s,school_id:e,session:t}},columns:[{data:"id"},{data:"datetime"},{data:"name"},{data:"class_name"},{data:"section"},{data:"total_paying_amount"},{data:"balance_amount"},{data:"remark"},{data:"view"}]})})),$("#roll_no").keyup((function(){var a=$(".current_school_id").html(),e=$("#current_session").val(),t=$("#roll_no").val(),s=$("#section_dropdown").val(),n=$(".admission_class").val();""!=student_class&&""!=t&&($.ajax({type:"POST",url:"studentdetail",data:{roll_no:t,admission_class:n,section:s,session:e},success:function(a){if("student is not exist"==a)alert(a),$("#student_name").val(""),$("#father_name").val(""),$("#phone_no").val(""),$("#decided_fee").val(""),$("#decided_fee_last").val(""),$("#student_id").val(""),$("#balance_due").val(""),$("#balance_due_last").val(""),$("#paid_amount_last").val("");else{var e=a.split("&&");$("#student_name").val(e[0]),$("#father_name").val(e[1]),$("#phone_no").val(e[2]),$("#decided_fee").val(e[3]),$("#decided_fee_last").val(e[3]),$("#student_id").val(e[4]),$("#balance_due").val(e[5]),$("#balance_due_last").val(e[5]),$("#paid_amount_last").val(e[7]);for(var t=document.querySelectorAll(".feemonth"),s=0;s<t.length;s++)t[s].checked=!1;e[6],e[7],$("#balance_amount").val(e[5]);var n=parseFloat(e[3]/12),o=parseFloat(e[7])/parseFloat(n),l=Math.floor(o);for($("#monthNo_last").val(l),s=0;s<l;s++)t[s].checked=!0;let d=["January","February","March","April","May","June","July","August","September","October","November","December"][(new Date).getMonth()],c=["April","May","June","July","August","September","October","November","December","January","February","March"].indexOf(d);for(s=0;s<t.length;s++)0==t[s].checked&&d!=t[s].value&&s<c&&t[s].classList.add("notcomemonth")}}}),$("#paymentreceiptTable").DataTable({destroy:!0,processing:!0,serverSide:!0,fnRowCallback:function(a,e,t){var s=$(this).DataTable().page.info();return $("td:nth-child(1)",a).html(s.start+t+1),a},order:[[0,"desc"]],columnDefs:[{type:"natural",targets:0}],serverMethod:"post",ajax:{url:"receiptRoll",data:{class:n,roll_no:t,section:s,school_id:a,session:e}},columns:[{data:"id"},{data:"datetime"},{data:"name"},{data:"class_name"},{data:"section"},{data:"total_paying_amount"},{data:"balance_amount"},{data:"remark"},{data:"view"}]}))})),$("#allreceiptTable").DataTable({pageLength:10,destroy:!0,processing:!0,serverSide:!0,fnRowCallback:function(a,e,t){var s=$(this).DataTable().page.info();return $("td:nth-child(1)",a).html(s.start+t+1),a},order:[[0,"desc"]],columnDefs:[{type:"natural",targets:0}],serverMethod:"post",ajax:{url:"receiptAll",data:{school_id:$(".current_school_id").html(),session:$("#current_session").val()}},dom:"Bfrtip",buttons:[{extend:"pdf",text:'<i class="fa fa-files-o" style="color: green;"></i>',titleAttr:"PDF",action:function(a,e,t,s){var n=this,o=e.settings()[0]._iDisplayStart;e.one("preXhr",(function(a,l,d){d.start=0,d.length=2147483647,e.one("preDraw",(function(a,l){return t[0].className.indexOf("buttons-copy")>=0?$.fn.dataTable.ext.buttons.copyHtml5.action.call(n,a,e,t,s):t[0].className.indexOf("buttons-excel")>=0?$.fn.dataTable.ext.buttons.excelHtml5.available(e,s)?$.fn.dataTable.ext.buttons.excelHtml5.action.call(n,a,e,t,s):$.fn.dataTable.ext.buttons.excelFlash.action.call(n,a,e,t,s):t[0].className.indexOf("buttons-csv")>=0?$.fn.dataTable.ext.buttons.csvHtml5.available(e,s)?$.fn.dataTable.ext.buttons.csvHtml5.action.call(n,a,e,t,s):$.fn.dataTable.ext.buttons.csvFlash.action.call(n,a,e,t,s):t[0].className.indexOf("buttons-pdf")>=0?$.fn.dataTable.ext.buttons.pdfHtml5.available(e,s)?$.fn.dataTable.ext.buttons.pdfHtml5.action.call(n,a,e,t,s):$.fn.dataTable.ext.buttons.pdfFlash.action.call(n,a,e,t,s):t[0].className.indexOf("buttons-print")>=0&&$.fn.dataTable.ext.buttons.print.action(a,e,t,s),e.one("preXhr",(function(a,e,t){l._iDisplayStart=o,t.start=o})),setTimeout(e.ajax.reload,0),!1}))})),e.ajax.reload()}}],columns:[{data:"id"},{data:"datetime"},{data:"name"},{data:"class_name"},{data:"section"},{data:"total_paying_amount"},{data:"balance_amount"},{data:"remark"},{data:"view"}]}),$(".admission_class").on("change",(function(a){var e=$(".current_school_id").html(),t=$("#current_session").val(),s=this.value,n=($(".admission_class option:selected").text(),$(".receiptDate").val()),o=$(".receipt_month").val();$.ajax({type:"POST",url:"sectionlist",data:{school_id:e,class:s,session:t},success:function(a){var e=a.split("&&");$("#section_dropdown").html(e[1])}}),""==n&&""==o?($.ajax({type:"POST",url:"amountClass",data:{school_id:e,class:s,session:t},success:function(a){$(".total_amount_pay").html(a)}}),$("#allreceiptTable").DataTable({pageLength:10,destroy:!0,dom:"lBfrtip",buttons:["csv","pdf"],lengthMenu:[[10,25,50,-1],[10,25,50,"All"]],processing:!0,serverSide:!0,fnRowCallback:function(a,e,t,s){$("td:eq(0)",a).html(s+1)},order:[[0,"desc"]],columnDefs:[{type:"natural",targets:0}],serverMethod:"post",ajax:{url:"receiptClass",data:{class:s,school_id:e,session:t}},columns:[{data:"id"},{data:"datetime"},{data:"name"},{data:"class_name"},{data:"section"},{data:"total_paying_amount"},{data:"balance_amount"},{data:"remark"},{data:"view"}]})):""!=n?($.ajax({type:"POST",url:"amountClassDate",data:{school_id:e,class:s,session:t,date:n},success:function(a){$(".total_amount_pay").html(a)}}),$("#allreceiptTable").DataTable({pageLength:10,destroy:!0,dom:"lBfrtip",buttons:["csv","pdf"],lengthMenu:[[10,25,50,-1],[10,25,50,"All"]],processing:!0,serverSide:!0,fnRowCallback:function(a,e,t,s){$("td:eq(0)",a).html(s+1)},order:[[0,"desc"]],columnDefs:[{type:"natural",targets:0}],serverMethod:"post",ajax:{url:"receiptClassDate",data:{class:s,school_id:e,date:n,session:t}},columns:[{data:"id"},{data:"datetime"},{data:"name"},{data:"class_name"},{data:"section"},{data:"total_paying_amount"},{data:"balance_amount"},{data:"remark"},{data:"view"}]})):""!=o&&($.ajax({type:"POST",url:"amountClassMonth",data:{school_id:e,class:s,session:t,month:o},success:function(a){$(".total_amount_pay").html(a)}}),$("#allreceiptTable").DataTable({pageLength:10,destroy:!0,dom:"lBfrtip",buttons:["csv","pdf"],lengthMenu:[[10,25,50,-1],[10,25,50,"All"]],processing:!0,serverSide:!0,fnRowCallback:function(a,e,t,s){$("td:eq(0)",a).html(s+1)},order:[[0,"desc"]],columnDefs:[{type:"natural",targets:0}],serverMethod:"post",ajax:{url:"receiptClassMonth",data:{class:s,school_id:e,date:n,session:t,month:o}},columns:[{data:"id"},{data:"datetime"},{data:"name"},{data:"class_name"},{data:"section"},{data:"total_paying_amount"},{data:"balance_amount"},{data:"remark"},{data:"view"}]}))})),$("#section_dropdown").on("change",(function(a){var e=$(".current_school_id").html(),t=$("#current_session").val(),s=this.value,n=$(".admission_class").val(),o=$(".receiptDate").val(),l=$(".receipt_month").val();$(".student_section").html(s),""!=o?($.ajax({type:"POST",url:"amountSectionDate",data:{school_id:e,section:s,class:n,session:t,date:o},success:function(a){$(".total_amount_pay").html(a)}}),$("#allreceiptTable").DataTable({pageLength:10,destroy:!0,dom:"lBfrtip",buttons:["csv","pdf"],lengthMenu:[[10,25,50,-1],[10,25,50,"All"]],processing:!0,serverSide:!0,fnRowCallback:function(a,e,t,s){$("td:eq(0)",a).html(s+1)},order:[[0,"desc"]],columnDefs:[{type:"natural",targets:0}],serverMethod:"post",ajax:{url:"receiptClassSectionDate",data:{class:n,school_id:e,date:o,session:t,section:s}},columns:[{data:"id"},{data:"datetime"},{data:"name"},{data:"class_name"},{data:"section"},{data:"total_paying_amount"},{data:"balance_amount"},{data:"remark"},{data:"view"}]})):""!=l?($.ajax({type:"POST",url:"amountSectionMonth",data:{school_id:e,section:s,class:n,session:t,month:l},success:function(a){$(".total_amount_pay").html(a)}}),$("#allreceiptTable").DataTable({pageLength:10,destroy:!0,dom:"lBfrtip",buttons:["csv","pdf"],lengthMenu:[[10,25,50,-1],[10,25,50,"All"]],processing:!0,serverSide:!0,fnRowCallback:function(a,e,t,s){$("td:eq(0)",a).html(s+1)},order:[[0,"desc"]],columnDefs:[{type:"natural",targets:0}],serverMethod:"post",ajax:{url:"receiptClassSectionMonth",data:{class:n,school_id:e,month:l,session:t,section:s}},columns:[{data:"id"},{data:"datetime"},{data:"name"},{data:"class_name"},{data:"section"},{data:"total_paying_amount"},{data:"balance_amount"},{data:"remark"},{data:"view"}]})):($.ajax({type:"POST",url:"amountClassSection",data:{school_id:e,section:s,class:n,session:t},success:function(a){$(".total_amount_pay").html(a)}}),$("#allreceiptTable").DataTable({pageLength:10,destroy:!0,dom:"lBfrtip",buttons:["csv","pdf"],lengthMenu:[[10,25,50,-1],[10,25,50,"All"]],processing:!0,serverSide:!0,fnRowCallback:function(a,e,t,s){$("td:eq(0)",a).html(s+1)},order:[[0,"desc"]],columnDefs:[{type:"natural",targets:0}],serverMethod:"post",ajax:{url:"receiptSection",data:{information:n,section:s,school_id:e,session:t}},columns:[{data:"id"},{data:"datetime"},{data:"name"},{data:"class_name"},{data:"section"},{data:"total_paying_amount"},{data:"balance_amount"},{data:"remark"},{data:"view"}]}))})),$("#roll_no").keyup((function(){var a=$(".current_school_id").html(),e=$("#current_session").val(),t=$("#roll_no").val(),s=$("#section_dropdown").val(),n=$(".admission_class").val(),o=$("#receiptDate").val(),l=$(".receipt_month").val();if(""==n)return alert("Please select class first"),void $("#roll_no").val("");""!=o?($.ajax({type:"POST",url:"amountRollDate",data:{school_id:a,section:s,class:n,session:e,rollno:t,date:o},success:function(a){$(".total_amount_pay").html(a)}}),$("#allreceiptTable").DataTable({pageLength:10,destroy:!0,dom:"lBfrtip",buttons:["csv","pdf"],lengthMenu:[[10,25,50,-1],[10,25,50,"All"]],processing:!0,serverSide:!0,fnRowCallback:function(a,e,t,s){$("td:eq(0)",a).html(s+1)},order:[[0,"desc"]],columnDefs:[{type:"natural",targets:0}],serverMethod:"post",ajax:{url:"receiptClassSectionDateRoll",data:{class:n,roll_no:t,section:s,school_id:a,session:e,date:o}},columns:[{data:"id"},{data:"datetime"},{data:"name"},{data:"class_name"},{data:"section"},{data:"total_paying_amount"},{data:"balance_amount"},{data:"remark"},{data:"view"}]})):""!=l?($.ajax({type:"POST",url:"amountRollMonth",data:{school_id:a,section:s,class:n,session:e,rollno:t,month:l},success:function(a){$(".total_amount_pay").html(a)}}),$("#allreceiptTable").DataTable({pageLength:10,destroy:!0,dom:"lBfrtip",buttons:["csv","pdf"],lengthMenu:[[10,25,50,-1],[10,25,50,"All"]],processing:!0,serverSide:!0,fnRowCallback:function(a,e,t,s){$("td:eq(0)",a).html(s+1)},order:[[0,"desc"]],columnDefs:[{type:"natural",targets:0}],serverMethod:"post",ajax:{url:"receiptClassSectionMonthRoll",data:{class:n,roll_no:t,section:s,school_id:a,session:e,month:l}},columns:[{data:"id"},{data:"datetime"},{data:"name"},{data:"class_name"},{data:"section"},{data:"total_paying_amount"},{data:"balance_amount"},{data:"remark"},{data:"view"}]})):($.ajax({type:"POST",url:"amountClassSectionRoll",data:{school_id:a,section:s,class:n,session:e,rollno:t},success:function(a){$(".total_amount_pay").html(a)}}),$("#allreceiptTable").DataTable({pageLength:10,destroy:!0,dom:"lBfrtip",buttons:["csv","pdf"],lengthMenu:[[10,25,50,-1],[10,25,50,"All"]],processing:!0,serverSide:!0,fnRowCallback:function(a,e,t,s){$("td:eq(0)",a).html(s+1)},order:[[0,"desc"]],columnDefs:[{type:"natural",targets:0}],serverMethod:"post",ajax:{url:"receiptRoll",data:{class:n,roll_no:t,section:s,school_id:a,session:e}},columns:[{data:"id"},{data:"datetime"},{data:"name"},{data:"class_name"},{data:"section"},{data:"total_paying_amount"},{data:"balance_amount"},{data:"remark"},{data:"view"}]}))})),$(".receipt_month").on("change",(function(e){var t=this.value,s=$(".admission_class").val(),n=$("#section_dropdown").val(),o=$("#roll_no").val();""!=s&&""!=n&&""!=o?($.ajax({type:"POST",url:"amountRollMonth",data:{school_id:a,session:session,section:n,class:s,rollno:o,month:t},success:function(a){$(".total_amount_pay").html(a)}}),$("#allreceiptTable").DataTable({pageLength:10,destroy:!0,dom:"lBfrtip",buttons:["csv","pdf"],lengthMenu:[[10,25,50,-1],[10,25,50,"All"]],processing:!0,serverSide:!0,fnRowCallback:function(a,e,t,s){$("td:eq(0)",a).html(s+1)},order:[[0,"desc"]],columnDefs:[{type:"natural",targets:0}],serverMethod:"post",ajax:{url:"receiptClassSectionMonthRoll",data:{class:s,section:n,school_id:a,month:t,session:session,roll_no:o}},columns:[{data:"id"},{data:"datetime"},{data:"name"},{data:"class_name"},{data:"section"},{data:"total_paying_amount"},{data:"balance_amount"},{data:"remark"},{data:"view"}]})):""!=s&&""!=n?($.ajax({type:"POST",url:"amountSectionMonth",data:{school_id:a,session:session,section:n,class:s,month:t},success:function(a){$(".total_amount_pay").html(a)}}),$("#allreceiptTable").DataTable({pageLength:10,destroy:!0,dom:"lBfrtip",buttons:["csv","pdf"],lengthMenu:[[10,25,50,-1],[10,25,50,"All"]],processing:!0,serverSide:!0,fnRowCallback:function(a,e,t,s){$("td:eq(0)",a).html(s+1)},order:[[0,"desc"]],columnDefs:[{type:"natural",targets:0}],serverMethod:"post",ajax:{url:"receiptClassSectionMonth",data:{class:s,section:n,school_id:a,month:t,session:session}},columns:[{data:"id"},{data:"datetime"},{data:"name"},{data:"class_name"},{data:"section"},{data:"total_paying_amount"},{data:"balance_amount"},{data:"remark"},{data:"view"}]})):""!=s?($.ajax({type:"POST",url:"amountClassMonth",data:{school_id:a,session:session,month:t,class:s},success:function(a){$(".total_amount_pay").html(a)}}),$("#allreceiptTable").DataTable({pageLength:10,destroy:!0,dom:"lBfrtip",buttons:["csv","pdf"],lengthMenu:[[10,25,50,-1],[10,25,50,"All"]],processing:!0,serverSide:!0,fnRowCallback:function(a,e,t,s){$("td:eq(0)",a).html(s+1)},order:[[0,"desc"]],columnDefs:[{type:"natural",targets:0}],serverMethod:"post",ajax:{url:"receiptClassMonth",data:{class:s,school_id:a,month:t,session:session}},columns:[{data:"id"},{data:"datetime"},{data:"name"},{data:"class_name"},{data:"section"},{data:"total_paying_amount"},{data:"balance_amount"},{data:"remark"},{data:"view"}]})):($.ajax({type:"POST",url:"amountMonth",data:{school_id:a,month:t,class:s,date:"",section:"",session:session},success:function(a){$(".total_amount_pay").html(a)}}),$("#allreceiptTable").DataTable({pageLength:10,destroy:!0,dom:"lBfrtip",buttons:["csv","pdf"],lengthMenu:[[10,25,50,-1],[10,25,50,"All"]],fnRowCallback:function(a,e,t,s){$("td:eq(0)",a).html(s+1)},order:[[0,"desc"]],columnDefs:[{type:"natural",targets:0}],processing:!0,serverSide:!0,serverMethod:"post",ajax:{url:"receiptmonth",data:{month:t,school_id:a,session:session}},columns:[{data:"id"},{data:"datetime"},{data:"name"},{data:"class_name"},{data:"section"},{data:"total_paying_amount"},{data:"balance_amount"},{data:"remark"},{data:"view"}]}))})),$(".receiptDate").on("change",(function(e){var t=this.value;$(".student_date").html(t);var s=$(".admission_class").val(),n=$("#section_dropdown").val(),o=$("#roll_no").val();""!=s&&""!=n&&""!=o?($.ajax({type:"POST",url:"amountRollDate",data:{school_id:a,section:n,class:s,session:session,rollno:o,date:t},success:function(a){$(".total_amount_pay").html(a)}}),$("#allreceiptTable").DataTable({pageLength:10,destroy:!0,dom:"lBfrtip",buttons:["csv","pdf"],lengthMenu:[[10,25,50,-1],[10,25,50,"All"]],processing:!0,serverSide:!0,fnRowCallback:function(a,e,t,s){$("td:eq(0)",a).html(s+1)},order:[[0,"desc"]],columnDefs:[{type:"natural",targets:0}],serverMethod:"post",ajax:{url:"receiptClassSectionDateRoll",data:{class:s,school_id:a,date:t,session:session,section:n,roll_no:o}},columns:[{data:"id"},{data:"datetime"},{data:"name"},{data:"class_name"},{data:"section"},{data:"total_paying_amount"},{data:"balance_amount"},{data:"remark"},{data:"view"}]})):""!=s&&""!=n?($.ajax({type:"POST",url:"amountSectionDate",data:{school_id:a,section:n,class:s,session:session,date:t},success:function(a){$(".total_amount_pay").html(a)}}),$("#allreceiptTable").DataTable({pageLength:10,destroy:!0,dom:"lBfrtip",buttons:["csv","pdf"],lengthMenu:[[10,25,50,-1],[10,25,50,"All"]],processing:!0,serverSide:!0,fnRowCallback:function(a,e,t,s){$("td:eq(0)",a).html(s+1)},order:[[0,"desc"]],columnDefs:[{type:"natural",targets:0}],serverMethod:"post",ajax:{url:"receiptClassSectionDate",data:{class:s,school_id:a,date:t,session:session,section:n}},columns:[{data:"id"},{data:"datetime"},{data:"name"},{data:"class_name"},{data:"section"},{data:"total_paying_amount"},{data:"balance_amount"},{data:"remark"},{data:"view"}]})):""!=s?($.ajax({type:"POST",url:"amountClassDate",data:{school_id:a,class:s,session:session,date:t},success:function(a){$(".total_amount_pay").html(a)}}),$("#allreceiptTable").DataTable({pageLength:10,destroy:!0,dom:"lBfrtip",buttons:["csv","pdf"],lengthMenu:[[10,25,50,-1],[10,25,50,"All"]],processing:!0,serverSide:!0,fnRowCallback:function(a,e,t,s){$("td:eq(0)",a).html(s+1)},order:[[0,"desc"]],columnDefs:[{type:"natural",targets:0}],serverMethod:"post",ajax:{url:"receiptClassDate",data:{class:s,school_id:a,date:t,session:session}},columns:[{data:"id"},{data:"datetime"},{data:"name"},{data:"class_name"},{data:"section"},{data:"total_paying_amount"},{data:"balance_amount"},{data:"remark"},{data:"view"}]})):($.ajax({type:"POST",url:"amountDate",data:{school_id:a,session:session,date:t},success:function(a){$(".total_amount_pay").html(a)}}),$("#allreceiptTable").DataTable({pageLength:10,destroy:!0,dom:"lBfrtip",buttons:["csv","pdf"],lengthMenu:[[10,25,50,-1],[10,25,50,"All"]],processing:!0,serverSide:!0,fnRowCallback:function(a,e,t,s){$("td:eq(0)",a).html(s+1)},order:[[0,"desc"]],columnDefs:[{type:"natural",targets:0}],serverMethod:"post",ajax:{url:"receiptdate",data:{date:t,school_id:a,session:session}},columns:[{data:"id"},{data:"datetime"},{data:"name"},{data:"class_name"},{data:"section"},{data:"total_paying_amount"},{data:"balance_amount"},{data:"remark"},{data:"view"}]}))}))}));